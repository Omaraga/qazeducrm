<?php

namespace app\models;

use app\components\ActiveRecord;
use Yii;

/**
 * ÐœÐ¾Ð´ÐµÐ»ÑŒ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð² Ð¿Ñ€Ð¾Ð´Ð°Ð¶
 *
 * @property int $id
 * @property int $organization_id
 * @property string $status
 * @property string $title
 * @property string|null $content
 * @property string|null $objections JSON Ð¼Ð°ÑÑÐ¸Ð² Ð²Ð¾Ð·Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹
 * @property string|null $tips JSON Ð¼Ð°ÑÑÐ¸Ð² ÑÐ¾Ð²ÐµÑ‚Ð¾Ð²
 * @property int $sort_order
 * @property bool $is_active
 * @property string $created_at
 * @property string $updated_at
 */
class SalesScript extends ActiveRecord
{
    /**
     * {@inheritdoc}
     */
    public static function tableName()
    {
        return '{{%sales_script}}';
    }

    /**
     * {@inheritdoc}
     */
    public function rules()
    {
        return [
            [['organization_id', 'status', 'title'], 'required'],
            [['organization_id', 'sort_order'], 'integer'],
            [['content', 'objections', 'tips'], 'string'],
            [['is_active'], 'boolean'],
            [['status'], 'string', 'max' => 50],
            [['title'], 'string', 'max' => 255],
            [['organization_id'], 'exist', 'skipOnError' => true, 'targetClass' => Organizations::class, 'targetAttribute' => ['organization_id' => 'id']],
        ];
    }

    /**
     * {@inheritdoc}
     */
    public function attributeLabels()
    {
        return [
            'id' => 'ID',
            'organization_id' => 'ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ',
            'status' => 'Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð»Ð¸Ð´Ð°',
            'title' => 'Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº',
            'content' => 'Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð°',
            'objections' => 'Ð’Ð¾Ð·Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ',
            'tips' => 'Ð¡Ð¾Ð²ÐµÑ‚Ñ‹',
            'sort_order' => 'ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸',
            'is_active' => 'ÐÐºÑ‚Ð¸Ð²ÐµÐ½',
            'created_at' => 'Ð¡Ð¾Ð·Ð´Ð°Ð½',
            'updated_at' => 'ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½',
        ];
    }

    /**
     * ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²Ð¾Ð·Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ ÐºÐ°Ðº Ð¼Ð°ÑÑÐ¸Ð²
     */
    public function getObjectionsArray(): array
    {
        if (empty($this->objections)) {
            return [];
        }
        $data = json_decode($this->objections, true);
        return is_array($data) ? $data : [];
    }

    /**
     * Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²Ð¾Ð·Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¸Ð· Ð¼Ð°ÑÑÐ¸Ð²Ð°
     */
    public function setObjectionsArray(array $objections): void
    {
        $this->objections = json_encode($objections, JSON_UNESCAPED_UNICODE);
    }

    /**
     * ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÐ¾Ð²ÐµÑ‚Ñ‹ ÐºÐ°Ðº Ð¼Ð°ÑÑÐ¸Ð²
     */
    public function getTipsArray(): array
    {
        if (empty($this->tips)) {
            return [];
        }
        $data = json_decode($this->tips, true);
        return is_array($data) ? $data : [];
    }

    /**
     * Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð²ÐµÑ‚Ñ‹ Ð¸Ð· Ð¼Ð°ÑÑÐ¸Ð²Ð°
     */
    public function setTipsArray(array $tips): void
    {
        $this->tips = json_encode($tips, JSON_UNESCAPED_UNICODE);
    }

    /**
     * ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð´Ð»Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°
     */
    public static function getForStatus(string $status): array
    {
        return self::find()
            ->byOrganization()
            ->andWhere(['status' => $status])
            ->andWhere(['is_active' => true])
            ->orderBy(['sort_order' => SORT_ASC])
            ->all();
    }

    /**
     * ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ ÑÐ³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ
     */
    public static function getAllGroupedByStatus(): array
    {
        $scripts = self::find()
            ->byOrganization()
            ->andWhere(['is_active' => true])
            ->orderBy(['status' => SORT_ASC, 'sort_order' => SORT_ASC])
            ->all();

        $grouped = [];
        foreach ($scripts as $script) {
            if (!isset($grouped[$script->status])) {
                $grouped[$script->status] = [];
            }
            $grouped[$script->status][] = $script;
        }

        return $grouped;
    }

    /**
     * Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð´Ð»Ñ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸
     */
    public static function createDefaults(int $organizationId): void
    {
        $defaults = [
            [
                'status' => Lids::STATUS_NEW,
                'title' => 'ÐŸÐµÑ€Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚',
                'content' => "Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ! ÐœÐµÐ½Ñ Ð·Ð¾Ð²ÑƒÑ‚ [Ð˜ÐœÐ¯], Ñ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÑŽ [Ð¦Ð•ÐÐ¢Ð ].\n\nÐ’Ð¸Ð¶Ñƒ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð¾ÑÑ‚Ð°Ð²Ð¸Ð»Ð¸ Ð·Ð°ÑÐ²ÐºÑƒ Ð½Ð° Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ. ÐŸÐ¾Ð´ÑÐºÐ°Ð¶Ð¸Ñ‚Ðµ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°:\n- ÐšÐ°ÐºÐ¾Ð¹ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚ Ñ€ÐµÐ±Ñ‘Ð½ÐºÐ°?\n- ÐšÐ°ÐºÐ¸Ðµ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÑŽÑ‚?\n- Ð•ÑÑ‚ÑŒ Ð»Ð¸ Ð¿Ñ€ÐµÐ´Ð¿Ð¾Ñ‡Ñ‚ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð·Ð°Ð½ÑÑ‚Ð¸Ð¹?",
                'objections' => json_encode([
                    ['objection' => 'ÐœÑ‹ ÐµÑ‰Ñ‘ Ð´ÑƒÐ¼Ð°ÐµÐ¼', 'response' => 'ÐŸÐ¾Ð½Ð¸Ð¼Ð°ÑŽ Ð²Ð°Ñ. Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ñ Ñ€Ð°ÑÑÐºÐ°Ð¶Ñƒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ Ð¾ Ð½Ð°ÑˆÐ¸Ñ… Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°Ñ…, Ð¸ Ð²Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¸Ð½ÑÑ‚ÑŒ Ð²Ð·Ð²ÐµÑˆÐµÐ½Ð½Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ. Ð¢Ð°ÐºÐ¶Ðµ Ð¼Ð¾Ð¶ÐµÐ¼ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð½Ð° Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾Ðµ Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ðµ Ð·Ð°Ð½ÑÑ‚Ð¸Ðµ.'],
                    ['objection' => 'ÐŸÐµÑ€ÐµÐ·Ð²Ð¾Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ð·Ð¶Ðµ', 'response' => 'ÐšÐ¾Ð½ÐµÑ‡Ð½Ð¾! ÐšÐ¾Ð³Ð´Ð° Ð²Ð°Ð¼ Ð±ÑƒÐ´ÐµÑ‚ ÑƒÐ´Ð¾Ð±Ð½Ð¾? Ð—Ð°Ð¿Ð¸ÑˆÑƒ Ñ‚Ð¾Ñ‡Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¸Ñ‚ÑŒ Ð² Ð½ÐµÐ¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰Ð¸Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚.'],
                ], JSON_UNESCAPED_UNICODE),
                'tips' => json_encode([
                    'Ð“Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚Ðµ ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ Ð¸ Ð´Ð¾Ð±Ñ€Ð¾Ð¶ÐµÐ»Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾',
                    'Ð¡Ñ€Ð°Ð·Ñƒ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒÑ‚ÐµÑÑŒ Ð¸ Ð½Ð°Ð·Ð¾Ð²Ð¸Ñ‚Ðµ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸ÑŽ',
                    'Ð—Ð°Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹',
                    'Ð¤Ð¸ÐºÑÐ¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð²ÑÐµ Ð´ÐµÑ‚Ð°Ð»Ð¸ Ð² ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÑƒ Ð»Ð¸Ð´Ð°',
                ], JSON_UNESCAPED_UNICODE),
            ],
            [
                'status' => Lids::STATUS_CONTACTED,
                'title' => 'ÐŸÑ€Ð¸Ð³Ð»Ð°ÑˆÐµÐ½Ð¸Ðµ Ð½Ð° Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ðµ',
                'content' => "ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð¯ Ð¿Ð¾Ð´Ð¾Ð±Ñ€Ð°Ð» Ð´Ð»Ñ Ð²Ð°Ñ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ÑÑ‰ÑƒÑŽ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ.\n\nÐŸÑ€ÐµÐ´Ð»Ð°Ð³Ð°ÑŽ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ Ð½Ð° Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾Ðµ Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ðµ Ð·Ð°Ð½ÑÑ‚Ð¸Ðµ:\n- Ð ÐµÐ±Ñ‘Ð½Ð¾Ðº Ð¿Ð¾Ð·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ñ‚ÑÑ Ñ Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¼\n- Ð’Ñ‹ ÑƒÐ²Ð¸Ð´Ð¸Ñ‚Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ\n- ÐÐ¸Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¾Ð±ÑÐ·Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ‚ÑŒ\n\nÐšÐ°ÐºÐ¾Ð¹ Ð´ÐµÐ½ÑŒ Ð½ÐµÐ´ÐµÐ»Ð¸ ÑƒÐ´Ð¾Ð±Ð½ÐµÐµ?",
                'objections' => json_encode([
                    ['objection' => 'Ð”Ð¾Ñ€Ð¾Ð³Ð¾', 'response' => 'ÐŸÐ¾Ð½Ð¸Ð¼Ð°ÑŽ Ð²Ð°ÑˆÐ¸ Ð¾Ð¿Ð°ÑÐµÐ½Ð¸Ñ. Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð½Ð° Ð¸Ð½Ð²ÐµÑÑ‚Ð¸Ñ†Ð¸Ð¸ Ð² Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ: ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð½ÑÑ‚Ð¸Ñ Ð²ÑÐµÐ³Ð¾ [Ð¡Ð£ÐœÐœÐ]. ÐŸÑ€Ð¸ ÑÑ‚Ð¾Ð¼ Ð²Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚Ðµ Ð¸Ð½Ð´Ð¸Ð²Ð¸Ð´ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ Ð¸ Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸ÑŽ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°.'],
                    ['objection' => 'ÐÐµÑ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸', 'response' => 'Ð£ Ð½Ð°Ñ Ð³Ð¸Ð±ÐºÐ¾Ðµ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ: Ð·Ð°Ð½ÑÑ‚Ð¸Ñ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚ ÑƒÑ‚Ñ€Ð¾Ð¼, Ð´Ð½Ñ‘Ð¼ Ð¸ Ð²ÐµÑ‡ÐµÑ€Ð¾Ð¼, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ. Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾Ð´Ð±ÐµÑ€Ñ‘Ð¼ ÑƒÐ´Ð¾Ð±Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ.'],
                    ['objection' => 'Ð”Ð°Ð»ÐµÐºÐ¾ ÐµÑ…Ð°Ñ‚ÑŒ', 'response' => 'ÐœÑ‹ Ñ‚Ð°ÐºÐ¶Ðµ Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ð¼ Ð¾Ð½Ð»Ð°Ð¹Ð½-Ð·Ð°Ð½ÑÑ‚Ð¸Ñ Ñ Ñ‚ÐµÐ¼ Ð¶Ðµ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾Ð¼ Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼. Ð¥Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ð¾Ñ‚ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚?'],
                ], JSON_UNESCAPED_UNICODE),
                'tips' => json_encode([
                    'Ð£Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð¹Ñ‚Ðµ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ð³Ð¾',
                    'ÐŸÑ€ÐµÐ´Ð»Ð°Ð³Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ñ‚Ñ‹ Ð½Ð° Ð²Ñ‹Ð±Ð¾Ñ€',
                    'ÐŸÐ¾Ð´Ñ‡Ñ‘Ñ€ÐºÐ¸Ð²Ð°Ð¹Ñ‚Ðµ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²',
                ], JSON_UNESCAPED_UNICODE),
            ],
            [
                'status' => Lids::STATUS_TRIAL,
                'title' => 'ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ Ð¾ Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ð¼',
                'content' => "Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ! ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÑŽ Ð¾ Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ð¼ Ð·Ð°Ð½ÑÑ‚Ð¸Ð¸:\n\nðŸ“… Ð”Ð°Ñ‚Ð°: [Ð”ÐÐ¢Ð]\nðŸ• Ð’Ñ€ÐµÐ¼Ñ: [Ð’Ð Ð•ÐœÐ¯]\nðŸ“ ÐÐ´Ñ€ÐµÑ: [ÐÐ”Ð Ð•Ð¡]\n\nÐÐµ Ð·Ð°Ð±ÑƒÐ´ÑŒÑ‚Ðµ Ð²Ð·ÑÑ‚ÑŒ Ñ ÑÐ¾Ð±Ð¾Ð¹ [ÐÐ£Ð–ÐÐ«Ð• Ð’Ð•Ð©Ð˜].\n\nÐ–Ð´Ñ‘Ð¼ Ð²Ð°Ñ!",
                'objections' => json_encode([
                    ['objection' => 'ÐÐµ Ð¼Ð¾Ð¶ÐµÐ¼ Ð¿Ñ€Ð¸Ð¹Ñ‚Ð¸', 'response' => 'ÐÐ¸Ñ‡ÐµÐ³Ð¾ ÑÑ‚Ñ€Ð°ÑˆÐ½Ð¾Ð³Ð¾! Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ½ÐµÑÑ‘Ð¼ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð´ÐµÐ½ÑŒ. ÐšÐ¾Ð³Ð´Ð° Ð²Ð°Ð¼ Ð±ÑƒÐ´ÐµÑ‚ ÑƒÐ´Ð¾Ð±Ð½Ð¾?'],
                ], JSON_UNESCAPED_UNICODE),
                'tips' => json_encode([
                    'ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð¹Ñ‚Ðµ Ð·Ð° Ð´ÐµÐ½ÑŒ Ð´Ð¾ Ð·Ð°Ð½ÑÑ‚Ð¸Ñ',
                    'ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð¹Ñ‚Ðµ Ð·Ð° 2 Ñ‡Ð°ÑÐ° Ð´Ð¾ Ð·Ð°Ð½ÑÑ‚Ð¸Ñ',
                    'Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ñ‡Ñ‘Ñ‚ÐºÐ¸Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ñ‡Ñ‚Ð¾ Ð²Ð·ÑÑ‚ÑŒ Ñ ÑÐ¾Ð±Ð¾Ð¹',
                ], JSON_UNESCAPED_UNICODE),
            ],
            [
                'status' => Lids::STATUS_THINKING,
                'title' => 'Follow-up Ð¿Ð¾ÑÐ»Ðµ Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ð³Ð¾',
                'content' => "Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ! ÐšÐ°Ðº Ð²Ð°ÑˆÐ¸ Ð²Ð¿ÐµÑ‡Ð°Ñ‚Ð»ÐµÐ½Ð¸Ñ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð½ÑÑ‚Ð¸Ñ?\n\nÐ¥Ð¾Ñ‚ÐµÐ» ÑƒÑ‚Ð¾Ñ‡Ð½Ð¸Ñ‚ÑŒ:\n- ÐŸÐ¾Ð½Ñ€Ð°Ð²Ð¸Ð»ÑÑ Ð»Ð¸ Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»ÑŒ?\n- ÐŸÐ¾Ð´Ð¾ÑˆÑ‘Ð» Ð»Ð¸ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð·Ð°Ð½ÑÑ‚Ð¸Ð¹?\n- Ð•ÑÑ‚ÑŒ Ð»Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¿Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ?\n\nÐ“Ð¾Ñ‚Ð¾Ð²Ñ‹ Ð¾Ð±ÑÑƒÐ´Ð¸Ñ‚ÑŒ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ?",
                'objections' => json_encode([
                    ['objection' => 'ÐÐ°Ð´Ð¾ Ð¿Ð¾Ð´ÑƒÐ¼Ð°Ñ‚ÑŒ', 'response' => 'ÐšÐ¾Ð½ÐµÑ‡Ð½Ð¾, ÑÑ‚Ð¾ Ð²Ð°Ð¶Ð½Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ. ÐšÐ°ÐºÐ¸Ðµ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚Ñ‹ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÑŽÑ‚ ÑÐ¾Ð¼Ð½ÐµÐ½Ð¸Ñ? ÐœÐ¾Ð¶ÐµÑ‚, Ñ ÑÐ¼Ð¾Ð³Ñƒ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÐµÐ¹?'],
                    ['objection' => 'Ð ÐµÐ±Ñ‘Ð½ÐºÑƒ Ð½Ðµ Ð¿Ð¾Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¾ÑÑŒ', 'response' => 'Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾ Ð·Ð° Ñ‡ÐµÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ. ÐŸÐ¾Ð´ÑÐºÐ°Ð¶Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ð½Ðµ Ð¿Ð¾Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¾ÑÑŒ? Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, ÑÑ‚Ð¾Ð¸Ñ‚ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¸Ð»Ð¸ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚.'],
                    ['objection' => 'Ð”Ð¾Ñ€Ð¾Ð³Ð¾', 'response' => 'Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾ÑÑ‡Ð¸Ñ‚Ð°ÐµÐ¼ Ð²Ð¼ÐµÑÑ‚Ðµ. Ð£ Ð½Ð°Ñ ÐµÑÑ‚ÑŒ Ð°Ð±Ð¾Ð½ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ñ€Ð°Ð·Ð½Ð¾Ð¹ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ ÑÐ¾ ÑÐºÐ¸Ð´ÐºÐ°Ð¼Ð¸. Ð¢Ð°ÐºÐ¶Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð° Ñ€Ð°ÑÑÑ€Ð¾Ñ‡ÐºÐ° Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð°.'],
                ], JSON_UNESCAPED_UNICODE),
                'tips' => json_encode([
                    'Ð—Ð²Ð¾Ð½Ð¸Ñ‚Ðµ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ 24 Ñ‡Ð°ÑÐ¾Ð² Ð¿Ð¾ÑÐ»Ðµ Ð¿Ñ€Ð¾Ð±Ð½Ð¾Ð³Ð¾',
                    'Ð¡Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ð¹Ñ‚Ðµ Ð¾ Ð²Ð¿ÐµÑ‡Ð°Ñ‚Ð»ÐµÐ½Ð¸ÑÑ… Ñ€ÐµÐ±Ñ‘Ð½ÐºÐ°',
                    'Ð‘ÑƒÐ´ÑŒÑ‚Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ Ð²Ð¾Ð·Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸',
                    'ÐŸÑ€ÐµÐ´Ð»Ð°Ð³Ð°Ð¹Ñ‚Ðµ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ñ‹ Ð¿Ñ€Ð¸ ÑÐ¾Ð¼Ð½ÐµÐ½Ð¸ÑÑ…',
                ], JSON_UNESCAPED_UNICODE),
            ],
            [
                'status' => Lids::STATUS_ENROLLED,
                'title' => 'Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ ÑÐ´ÐµÐ»ÐºÐ¸',
                'content' => "ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð Ð°Ð´, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð¿Ñ€Ð¸Ð½ÑÐ»Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ.\n\nÐ”Ð»Ñ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ñ Ð½ÑƒÐ¶Ð½Ð¾:\n1. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€\n2. Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ‚Ð°Ñ€Ð¸Ñ„\n3. Ð’Ð½ÐµÑÑ‚Ð¸ Ð¾Ð¿Ð»Ð°Ñ‚Ñƒ\n\nÐšÐ¾Ð³Ð´Ð° Ð²Ð°Ð¼ ÑƒÐ´Ð¾Ð±Ð½Ð¾ Ð¿Ð¾Ð´ÑŠÐµÑ…Ð°Ñ‚ÑŒ Ð´Ð»Ñ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ñ?",
                'objections' => json_encode([
                    ['objection' => 'ÐœÐ¾Ð¶Ð½Ð¾ Ð¾Ð¿Ð»Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ‚Ð¾Ð¼?', 'response' => 'ÐœÐµÑÑ‚Ð¾ Ð² Ð³Ñ€ÑƒÐ¿Ð¿Ðµ Ð±Ñ€Ð¾Ð½Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹. Ð“Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð½Ð°Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ÑÑ Ð±Ñ‹ÑÑ‚Ñ€Ð¾, Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÑŽ Ð½Ðµ Ð¾Ñ‚ÐºÐ»Ð°Ð´Ñ‹Ð²Ð°Ñ‚ÑŒ.'],
                ], JSON_UNESCAPED_UNICODE),
                'tips' => json_encode([
                    'ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ñ Ñ€ÐµÑˆÐµÐ½Ð¸ÐµÐ¼',
                    'Ð”Ð°Ð¹Ñ‚Ðµ Ñ‡Ñ‘Ñ‚ÐºÐ¸Ð¹ Ð¿Ð»Ð°Ð½ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… ÑˆÐ°Ð³Ð¾Ð²',
                    'Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÑ€Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ (Ð¼ÐµÑÑ‚Ð° Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ñ‹)',
                ], JSON_UNESCAPED_UNICODE),
            ],
        ];

        foreach ($defaults as $data) {
            $script = new self();
            $script->organization_id = $organizationId;
            $script->status = $data['status'];
            $script->title = $data['title'];
            $script->content = $data['content'];
            $script->objections = $data['objections'];
            $script->tips = $data['tips'];
            $script->is_active = true;
            $script->save(false);
        }
    }

    /**
     * ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð´Ð»Ñ JSON
     */
    public function toApiArray(): array
    {
        return [
            'id' => $this->id,
            'status' => $this->status,
            'title' => $this->title,
            'content' => $this->content,
            'objections' => $this->getObjectionsArray(),
            'tips' => $this->getTipsArray(),
        ];
    }
}
